/*******************************//* Format BFV entries in JVP   *//*  style, e.g., for web page  *//*******************************/import java.lang.*;import java.util.*;public class BfvFormatJVP extends BfvFormatter{	public BfvFormatJVP(){		}			/* Each entry is sent as a record and its author list (a vector) */	/*  The boolean tells whether html output is desired             */		public String format(BfvRecord rec, Vector auV){ 													               			StringBuffer st = new StringBuffer(); 				AuthsRecord arec = (AuthsRecord)auV.elementAt(0);  // First author		if (arec.getFn().length() > 0){			st.append(arec.getSerau() + ", " + arec.getFn());			}		else st.append(arec.getSerau());  /* Chinese-style name */				if (auV.size() == 1 && arec.getRole().equals("e")) st.append(" (ed.)");				for(int i=1;i<auV.size();i++){    // Additional authors			st.append(", ");			if (i == auV.size()-1) st.append ("and ");			arec = (AuthsRecord)auV.elementAt(i);			st.append(arec.getFn() + " " + arec.getSerau());			}		if (auV.size() > 1 && arec.getRole().equals("e")) st.append(" (eds.)");			if (!st.toString().endsWith(".")) st.append(".");  // Done with authors				// The date, title are always the same				st.append(" " + rec.getDate() + ". &nbsp;" + rec.getTi() + ". &nbsp;");				// There may be translation of foreign title				if(rec.getTrans().length() > 1) st.append(" [" + rec.getTrans() + ".] ");		if(rec.getTt().length() > 1 && rec.getTs().length() <= 1) st.append(" [in " + rec.getTt() + "]. ");		if(rec.getTt().length() > 1 && rec.getTs().length() > 1) st.append(" [in " + rec.getTt() + " with " + rec.getTs() + " summ.]. ");		// The rest depends upon the type				if (rec.getType().equals("AS") || rec.getType().equals("MS")){			st.append(rec.getJn() + " " + rec.getVo() + " " + rec.getPg());			}		else if (rec.getType().equals("AB")){			st.append(" " + rec.getPg() + " in " + rec.getEd() + ", " + rec.getEdvo());			if(st.toString().endsWith(".")) st.append(" " + rec.getPub());			else st.append(". " + rec.getPub());			}		else if (rec.getType().equals("MB")){			st.append(" " + rec.getPub() + ". " + rec.getPg());			}				// Finish the record so it looks nice				if (st.toString().endsWith(".")){			if (html) st.append("<p>\n");			else st.append("\n");			}		else {			if (html) st.append(".<p>\n");			else st.append(".\n");			}			return st.toString();		}		}